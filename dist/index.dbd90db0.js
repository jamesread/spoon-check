window.drainIcons={"&#x1F6CC;":"Tiredness","&#x1F50A;":"Sound","&#x1F354;":"Hungry","&#x1F476;":"Baby","&#x1F375;":"Thirsty","&#x1F3E5;":"Pain","&#x1F464;":"Peopling","&#x1F468;":"Need alone time","&#x1F491;":"Need cuddles","&#x1F3E2;":"Work","&#x1F6BD;":"Toilet"},function(){let e=document.querySelector("#drainIcons");for(let n of Object.keys(window.drainIcons)){let t=document.createElement("button");t.classList+="icon",t.setAttribute("title",window.drainIcons[n]),t.innerHTML=n,t.onclick=()=>{!function(e){console.log("rate",e);let n=document.createElement("span");n.innerHTML=""+window.drainIcons[e]+" "+e+"  <br />",document.body.querySelector("#ratings").appendChild(n),document.querySelector("div#ratings").hidden=!1,document.querySelector("p#resultsComplete").hidden=!1,window.location.hash="#resultsComplete"}(n)},e.appendChild(t)}console.log("Icon buttons setup completed.")}();const e=document.querySelector("#copyResults");null!=e&&(e.onclick=()=>{let e=document.createElement("textarea");e.textContent=document.querySelector("#ratings").innerText,e.textContent+="\n\nhttps://spoon-check.5apps.com",document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),window.alert("Results copied! You can now paste it anywhere.")});let n=document.querySelector("p#pwaNote");if(null==n&&(n=document.createElement("p"),document.body.append(n)),"serviceWorker"in navigator){let e=new URL("sw.js");navigator.serviceWorker.register(e).then(e=>{e.addEventListener("updatefound",()=>{e.update();let t=e.installing;t.addEventListener("statechange",()=>{switch(t.state){case"installed":navigator.serviceWorker.controller?n.innerHTML="You are using an app version of this page.":n.innerHTML="PWA possible.";break;case"redundant":console.log("SW became redundant");break;case"":case"waiting":case"activating":case"activated":return;default:n.innerHTML="Unhandled worker state: "+t.state}})})})}else n.innerHTML="Your browser does not support installation of this page as an app (PWA).";