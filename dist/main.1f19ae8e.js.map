{"version":3,"sources":["modules/EntryForm.js","main.js"],"names":["ratingEmojis","EntryForm","HTMLElement","tpl","document","querySelector","cloneNode","content","appendChild","importNode","domLabel","domEmoji","domSlider","domRateButtons","emojiIndex","emoji","button","createElement","innerHTML","setAttribute","onclick","e","v","target","onRate","questions","currentQuestion","question","r","body","noRatingHelpText","remove","askQuestion","txt","push","innerText","console","log","length","firstChild","removeChild","hidden","window","customElements","define","ef","createElements","prepend","addQuestion","ta","select","execCommand","alert","navigator","serviceWorker","register","then","reg","addEventListener","newWorker","installing","notification","classList","state","controller"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["const ratingEmojis = [\n\t\"&#x1f641\",\n\t\"&#x1f62c\",\n\t\"&#x1f642\",\n\t\"&#x2753\"\n]\n\nexport default class EntryForm extends HTMLElement {\n\tcreateElements() {\n\t\tvar tpl = document.querySelector('template#entryForm').cloneNode(true).content\n\t\tthis.appendChild(document.importNode(tpl, true))\n\n\t\tthis.domLabel = this.querySelector(\"#label\")\n\t\tthis.domEmoji = this.querySelector(\"#emoji\");\n\t\tthis.domSlider = this.querySelector(\"input\");\n\n\t\tthis.domRateButtons = []\n\n\t\tvar emojiIndex = 0;\n\t\tfor (var emoji of ratingEmojis) {\n\t\t\tvar button = document.createElement(\"button\");\n\t\t\tbutton.innerHTML = emoji;\n\t\t\tbutton.setAttribute(\"type\", \"button\");\n\t\t\tbutton.onclick = e => {\n\t\t\t\tvar v = e.target.innerHTML\n\t\t\t\tthis.onRate(v);\n\t\t\t}\n\n\t\t\tthis.querySelector(\"#rateButtons\").appendChild(button);\n\t\t}\n\n\t\tthis.questions = [];\n\t\tthis.currentQuestion = -1;\n\t}\n\n\tonRate(v) {\n\t\tvar question = this.questions[this.currentQuestion];\n\n\t\tvar r = document.createElement(\"div\");\n\t\tr.innerHTML = question['txt'] + \": \" + v\n\n\t\tdocument.body.querySelector(\"#ratings\").appendChild(r)\n\n\t\tlet noRatingHelpText = document.querySelector(\"#noRatingHelpText\")\n\n\t\tif (noRatingHelpText != null) {\n\t\t\tnoRatingHelpText.remove();\n\t\t}\n\n\n\t\tthis.askQuestion();\n\t}\n\n\taddQuestion(txt, emoji) {\n\t\tthis.questions.push({\n\t\t\t\"txt\": txt,\n\t\t\t\"emoji\": emoji\n\t\t})\n\t}\n\n\taskQuestion() {\n\t\tthis.currentQuestion++;\n\t\tvar question = this.questions[this.currentQuestion];\n\n\t\tthis.domLabel.innerText = question['txt'] + '?';\n\t\tthis.domEmoji.innerHTML = question['emoji'];\n\t\tthis.domEmoji.setAttribute(\"title\", question['txt'] + \" icon\")\n\n\t\tconsole.log(this.currentQuestion, this.questions.length - 1)\n\n\t\tif (this.currentQuestion == this.questions.length - 1) {\n\t\t\twhile (this.firstChild) {\n\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t}\n\n\t\t\tdocument.querySelector(\"p#resultsComplete\").hidden = false\n\t\t}\n\t}\n}\n\nwindow.customElements.define(\"entry-form\", EntryForm);\n","import './modules/EntryForm.js'\n\nwindow.ef = document.createElement(\"entry-form\");\nwindow.ef.createElements();\n\ndocument.body.querySelector(\"main\").prepend(window.ef);\n\nwindow.ef.addQuestion(\"Tiredness\", \"&#x1F6CC;\")\nwindow.ef.addQuestion(\"Sounds\", \"&#x1F50A\")\nwindow.ef.addQuestion(\"Hunger\", \"&#x1F354;\")\nwindow.ef.addQuestion(\"Thirst\", \"&#x1F375;\")\nwindow.ef.addQuestion(\"Pain\", \"&#x1F3E5;\")\nwindow.ef.addQuestion(\"Peopling\", \"&#x1F464;\")\nwindow.ef.addQuestion(\"Toilet\", \"&#x1F6BD;\")\nwindow.ef.askQuestion();\n\ndocument.querySelector(\"#copyResults\").onclick = () => {\n\tlet ta = document.createElement(\"textarea\")\n\tta.innerText = document.querySelector(\"#ratings\").innerText\n\tdocument.body.appendChild(ta);\n\tta.select();\n\tdocument.execCommand(\"copy\")\n\tta.remove();\n\twindow.alert(\"Results copied! You can now paste it anywhere.\")\n}\n\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('sw.js').then(reg => {\n\treg.addEventListener(\"updatefound\", () => {\n\t\tnewWorker = reg.installing;\n\t\tnewWorker.addEventListener(\"statechange\", () => {\n\t\t\tlet notification = document.createElement(\"div\");\n\t\t\tnotification.classList += \"notification\"\n\n\t\t\tswitch (newWorker.state) {\n\t\t\t\tcase \"installed\":\n\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\tnotification.innerHTML = \"Refresh to update this app.\"\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tnotification.innerHTML = \"Unhandled worker state: \" + newWorker.state\n\t\t\t}\n\n\t\t\tdocument.body.appendChild(notification)\n\t\t})\n\t})\n  });\n}\n\n"]}