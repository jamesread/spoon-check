{"version":3,"sources":["main.js"],"names":["onRate","v","console","log","r","document","createElement","innerHTML","window","drainIcons","body","querySelector","appendChild","showResults","setupDrainIcons","Object","iconArea","icon","foo","classList","onclick","keys","hidden","location","hash","copyResultsButton","ta","innerText","select","execCommand","remove","alert","pwaNote","append","navigator","serviceWorker","register","then","reg","addEventListener","newWorker","installing","state","controller"],"mappings":";AAoBA,SAASA,EAAOC,GACfC,QAAQC,IAAI,OAAQF,GAEhBG,IAAAA,EAAIC,SAASC,cAAc,QAC/BF,EAAEG,UAAY,SAAWC,OAAOC,WAAWR,GAAK,IAAMA,EAAI,WAE1DI,SAASK,KAAKC,cAAc,YAAYC,YAAYR,GAUpDS,IAGD,SAASC,IAGSC,IAFbC,IAAAA,EAAWX,SAASM,cAAc,eADZ,EAAA,WAGjBM,IAAAA,EAAJ,EAAA,IACAC,EAAMb,SAASC,cAAc,WAC7Ba,WAAa,OACjBD,EAAIX,UAAYU,EAChBC,EAAIE,QAAU,WACbpB,EAAOiB,IAGRD,EAASJ,YAAYM,IARLH,EAAAA,EAAAA,EAAAA,OAAOM,KAAKb,OAAOC,YAAa,EAAA,EAAA,OAAA,IAAA,CAC5CS,IAAAA,EAD4C,IAWjDhB,QAAQC,IAAI,eAGb,SAASU,IACRR,SAASM,cAAc,eAAeW,QAAS,EAC/CjB,SAASM,cAAc,qBAAqBW,QAAS,EAErDd,OAAOe,SAASC,KAAO,mBAtDxBhB,OAAOC,WAAa,CACN,YAAA,YACD,WAAA,QACC,YAAA,SACA,YAAA,OACA,YAAA,UACA,YAAA,OACA,YAAA,WACA,YAAA,kBACA,YAAA,eACA,YAAA,OACA,YAAA,UA8CdK,IAEA,IAAIW,EAAoBpB,SAASM,cAAc,gBAEtB,MAArBc,IACHA,EAAkBL,QAAU,WACvBM,IAAAA,EAAKrB,SAASC,cAAc,YAChCoB,EAAGC,UAAYtB,SAASM,cAAc,YAAYgB,UAClDtB,SAASK,KAAKE,YAAYc,GAC1BA,EAAGE,SACHvB,SAASwB,YAAY,QACrBH,EAAGI,SACHtB,OAAOuB,MAAM,oDAIf,IAAIC,EAAU3B,SAASM,cAAc,aAEtB,MAAXqB,IACHA,EAAU3B,SAASC,cAAc,KACjCD,SAASK,KAAKuB,OAAOD,IAGlB,kBAAmBE,UACrBA,UAAUC,cAAcC,SAAS,uCAASC,KAAK,SAAAC,GAChDA,EAAIC,iBAAiB,cAAe,WAC/BC,IAAAA,EAAYF,EAAIG,WACpBD,EAAUD,iBAAiB,cAAe,WACjCC,OAAAA,EAAUE,OACZ,IAAA,YACAR,UAAUC,cAAcQ,WAC3BX,EAAQzB,UAAY,6CAEpByB,EAAQzB,UAAY,gBAGrB,MACI,IAAA,GACA,IAAA,aACA,IAAA,YACJ,OACD,QACCyB,EAAQzB,UAAY,2BAA6BiC,EAAUE,aAM/DV,EAAQzB,UAAY","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["//import './modules/EntryForm.js'\n\n//window.ef = document.createElement(\"entry-form\");\n//window.ef.createElements();\n//document.body.querySelector(\"main\").prepend(window.ef);\n\nwindow.drainIcons = {\n\t\"&#x1F6CC;\": \"Tiredness\",  \n\t\"&#x1F50A\": \"Sound\",\n\t\"&#x1F354;\": \"Hungry\",\n\t\"&#x1F476;\": \"Baby\",\n\t\"&#x1F375;\": \"Thirsty\",\n\t\"&#x1F3E5;\": \"Pain\",\n\t\"&#x1F464;\": \"Peopling\",\n\t\"&#x1F468;\": \"Need alone time\",\n\t\"&#x1F491;\": \"Need cuddles\",\n\t\"&#x1F3E2;\": \"Work\",\n\t\"&#x1F6BD;\": \"Toilet\",\n}\n\nfunction onRate(v) {\n\tconsole.log(\"rate\", v);\n\n\tvar r = document.createElement(\"span\");\n\tr.innerHTML = \"&nbsp;\" + window.drainIcons[v] + \" \" + v + \" \" + \" <br />\";\n\n\tdocument.body.querySelector(\"#ratings\").appendChild(r)\n\n\t/*\n\tlet noRatingHelpText = document.querySelector(\"#noRatingHelpText\")\n\n\tif (noRatingHelpText != null) {\n\t\tnoRatingHelpText.remove();\n\t}\n\t*/\n\n\tshowResults();\n}\n\nfunction setupDrainIcons() {\n\tvar iconArea = document.querySelector('#drainIcons');\n\n\tfor (let icon of Object.keys(window.drainIcons)) {\n\t\tvar foo = document.createElement('button');\n\t\tfoo.classList += \"icon\"\n\t\tfoo.innerHTML = icon;\n\t\tfoo.onclick = () => {\n\t\t\tonRate(icon);\n\t\t}\n\n\t\ticonArea.appendChild(foo);\n\t}\n\n\tconsole.log(\"setup icons\");\n}\n\nfunction showResults() {\n\tdocument.querySelector(\"div#ratings\").hidden = false\n\tdocument.querySelector(\"p#resultsComplete\").hidden = false\n\n\twindow.location.hash = \"#resultsComplete\"\n}\n\nsetupDrainIcons();\n\nvar copyResultsButton = document.querySelector(\"#copyResults\");\n\nif (copyResultsButton != null) {\n\tcopyResultsButton.onclick = () => {\n\t\tlet ta = document.createElement(\"textarea\")\n\t\tta.innerText = document.querySelector(\"#ratings\").innerText\n\t\tdocument.body.appendChild(ta);\n\t\tta.select();\n\t\tdocument.execCommand(\"copy\")\n\t\tta.remove();\n\t\twindow.alert(\"Results copied! You can now paste it anywhere.\")\n\t}\n}\n\nvar pwaNote = document.querySelector(\"p#pwaNote\");\n\nif (pwaNote == null) {\n\tpwaNote = document.createElement(\"p\")\n\tdocument.body.append(pwaNote)\n}\n\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('sw.js').then(reg => {\n\treg.addEventListener(\"updatefound\", () => {\n\t\tvar newWorker = reg.installing;\n\t\tnewWorker.addEventListener(\"statechange\", () => {\t\n\t\t\tswitch (newWorker.state) {\n\t\t\t\tcase \"installed\":\n\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\tpwaNote.innerHTML = \"You are using an app version of this page.\"\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpwaNote.innerHTML = \"PWA possible.\"\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase '':\n\t\t\t\tcase 'activating':\n\t\t\t\tcase 'activated':\n\t\t\t\t\treturn;\n\t\t\t\tdefault:\n\t\t\t\t\tpwaNote.innerHTML = \"Unhandled worker state: \" + newWorker.state\n\t\t\t}\n\t\t})\n\t})\n  });\n} else {\n\tpwaNote.innerHTML = \"Your browser does not support installation of this page as an app (PWA).\"\n}\n"]}